(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{9681:(e,o,t)=>{Promise.resolve().then(t.bind(t,5818))},5818:(e,o,t)=>{"use strict";t.d(o,{default:()=>O});var r=t(5155),n=t(2115),a=t(6046),i=t(2651),l=t(8998),s=t(4665),c=t(2479),u=t(810),d=t(3463),p=t(2181),g=t(7157),v=t(7123),x=t(4577),h=t(5523),A=t(2611),f=t(5212),m=t(7365),b=t(5374);let y=(0,f.A)(),k=(0,x.A)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,o)=>o.root});function w(e){return(0,h.A)({props:e,name:"MuiStack",defaultTheme:y})}let j=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],S=({ownerState:e,theme:o})=>{let t={display:"flex",flexDirection:"column",...(0,m.NI)({theme:o},(0,m.kW)({values:e.direction,breakpoints:o.breakpoints.values}),e=>({flexDirection:e}))};if(e.spacing){let r=(0,b.LX)(o),n=Object.keys(o.breakpoints.values).reduce((o,t)=>(("object"==typeof e.spacing&&null!=e.spacing[t]||"object"==typeof e.direction&&null!=e.direction[t])&&(o[t]=!0),o),{}),a=(0,m.kW)({values:e.direction,base:n}),i=(0,m.kW)({values:e.spacing,base:n});"object"==typeof a&&Object.keys(a).forEach((e,o,t)=>{if(!a[e]){let r=o>0?a[t[o-1]]:"column";a[e]=r}}),t=(0,p.A)(t,(0,m.NI)({theme:o},i,(o,t)=>e.useFlexGap?{gap:(0,b._W)(r,o)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${j(t?a[t]:e.direction)}`]:(0,b._W)(r,o)}}))}return(0,m.iZ)(o.breakpoints,t)};var C=t(9142),R=t(314);let M=function(e={}){let{createStyledComponent:o=k,useThemeProps:t=w,componentName:a="MuiStack"}=e,i=()=>(0,v.A)({root:["root"]},e=>(0,g.Ay)(a,e),{}),l=o(S);return n.forwardRef(function(e,o){let a=t(e),{component:s="div",direction:c="column",spacing:u=0,divider:p,children:g,className:v,useFlexGap:x=!1,...h}=(0,A.A)(a),f=i();return(0,r.jsx)(l,{as:s,ownerState:{direction:c,spacing:u,useFlexGap:x},ref:o,className:(0,d.A)(f.root,v),...h,children:p?function(e,o){let t=n.Children.toArray(e).filter(Boolean);return t.reduce((e,r,a)=>(e.push(r),a<t.length-1&&e.push(n.cloneElement(o,{key:`separator-${a}`})),e),[])}(g,p):g})})}({createStyledComponent:(0,C.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,o)=>o.root}),useThemeProps:e=>(0,R.b)({props:e,name:"MuiStack"})});var W=t(1368);function _(e){return(0,g.Ay)("MuiCardActions",e)}(0,t(1045).A)("MuiCardActions",["root","spacing"]);let E=e=>{let{classes:o,disableSpacing:t}=e;return(0,v.A)({root:["root",!t&&"spacing"]},_,o)},N=(0,C.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,o)=>{let{ownerState:t}=e;return[o.root,!t.disableSpacing&&o.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),L=n.forwardRef(function(e,o){let t=(0,R.b)({props:e,name:"MuiCardActions"}),{disableSpacing:n=!1,className:a,...i}=t,l={...t,disableSpacing:n},s=E(l);return(0,r.jsx)(N,{className:(0,d.A)(s.root,a),ownerState:l,ref:o,...i})});var I=t(2282);let O=()=>{let[e,o]=(0,n.useState)(!0),[t,d]=(0,n.useState)({email:"",password:""}),p=(0,a.useRouter)(),g=e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e),v=async()=>{var o,r,n,a;if(!g(null==t?void 0:t.email))return alert("Invalid email");if((null==t?void 0:null===(o=t.password)||void 0===o?void 0:o.length)===0)return alert("Password cannot be empty");try{console.log("ping",await i.A.get("".concat("http://13.250.107.66:4000","/ping")));let o=await i.A.post("".concat("http://13.250.107.66:4000","/user").concat(e?"/login":"/signup"),t,{withCredentials:!0});(null==o?void 0:null===(r=o.data)||void 0===r?void 0:r.token)?p.push("/chat"):(null==o?void 0:null===(n=o.data)||void 0===n?void 0:n.error)?alert(null==o?void 0:null===(a=o.data)||void 0===a?void 0:a.error):alert("Sucessfully signed up")}catch(e){i.A.isAxiosError(e)?console.error("Authentication failed:",e.message):console.error("Unexpected error:",e)}};return(0,r.jsx)(l.A,{children:(0,r.jsx)(s.A,{sx:{maxWidth:"500px",margin:"0 auto",marginTop:"64px",border:"1px solid white",backgroundColor:"rgba(255,255,255,0.55)",backdropFilter:"blur(50px)",boxShadow:"4px 4px 4px rgba(30,30,30,0.1)",borderRadius:"10px"},children:(0,r.jsxs)(c.A,{sx:{color:"#777"},children:[(0,r.jsx)(u.A,{variant:"h4",children:e?"Login":"Signup"}),(0,r.jsxs)(M,{spacing:1,sx:{margin:"16px 0 16px 0"},children:[(0,r.jsx)(W.A,{fullWidth:!0,label:"Email",value:t.email,onChange:e=>d({...t,email:e.target.value})}),(0,r.jsx)(W.A,{fullWidth:!0,label:"Password",type:"password",value:t.password,onChange:e=>d({...t,password:e.target.value})})]}),(0,r.jsx)(L,{children:(0,r.jsx)(I.A,{fullWidth:!0,variant:"contained",sx:{backgroundColor:"rgb(100,150,255)",boxShadow:"4px 4px 4px rgba(30,30,30,0.1)"},onClick:v,children:e?"Login":"Create an account"})}),(0,r.jsx)(u.A,{sx:{display:"inline-block",marginRight:"2px"},children:e?"Don't have an account?":"Already have an account?"}),(0,r.jsx)(u.A,{sx:{display:"inline-block",color:"rgb(100,150,255)",cursor:"pointer"},onClick:()=>o(!e),children:e?"Sign up":"Login"})]})})})}}},e=>{var o=o=>e(e.s=o);e.O(0,[88,441,517,358],()=>o(9681)),_N_E=e.O()}]);